{"ast":null,"code":"var _s = $RefreshSig$();\nimport axios from 'axios';\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { updateCartItems } from '../reducers/cartReducer';\nexport default function CartCheck() {\n  _s();\n  const {\n    auth\n  } = useSelector(store => store);\n  const dispatch = useDispatch();\n  const getCart = async () => {\n    try {\n      if (auth !== null && auth !== void 0 && auth.authenticated) {\n        var _auth$user, _data$, _data$$cartItems;\n        let cart = [];\n        const {\n          data\n        } = await axios.get(`http://localhost:4040/api/carts?userId=${auth === null || auth === void 0 ? void 0 : (_auth$user = auth.user) === null || _auth$user === void 0 ? void 0 : _auth$user._id}`);\n        if ((data === null || data === void 0 ? void 0 : (_data$ = data[0]) === null || _data$ === void 0 ? void 0 : (_data$$cartItems = _data$.cartItems) === null || _data$$cartItems === void 0 ? void 0 : _data$$cartItems.length) > 0) {\n          var _data$2;\n          cart = data === null || data === void 0 ? void 0 : (_data$2 = data[0]) === null || _data$2 === void 0 ? void 0 : _data$2.cartItems;\n        }\n        dispatch(updateCartItems(cart));\n      }\n    } catch (error) {\n      alert('Error while getting products');\n    }\n  };\n  useEffect(() => {\n    getCart();\n  }, [auth === null || auth === void 0 ? void 0 : auth.authenticated]);\n  return null;\n}\n_s(CartCheck, \"DVrTCWdgDiqam44Ocqm3V+hCEiM=\", false, function () {\n  return [useSelector, useDispatch];\n});\n_c = CartCheck;\nvar _c;\n$RefreshReg$(_c, \"CartCheck\");","map":{"version":3,"names":["axios","React","useEffect","useDispatch","useSelector","updateCartItems","CartCheck","_s","auth","store","dispatch","getCart","authenticated","_auth$user","_data$","_data$$cartItems","cart","data","get","user","_id","cartItems","length","_data$2","error","alert","_c","$RefreshReg$"],"sources":["/Users/devangacharya/Desktop/devang_acharya_8908972/frontend/src/components/CartCheck.jsx"],"sourcesContent":["import axios from 'axios';\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { updateCartItems } from '../reducers/cartReducer';\n\nexport default function CartCheck() {\n  const { auth } = useSelector((store) => store);\n  const dispatch = useDispatch();\n  const getCart = async () => {\n    try {\n      if (auth?.authenticated) {\n        let cart = [];\n        const { data } = await axios.get(\n          `http://localhost:4040/api/carts?userId=${auth?.user?._id}`\n        );\n        if (data?.[0]?.cartItems?.length > 0) {\n          cart = data?.[0]?.cartItems;\n        }\n        dispatch(updateCartItems(cart));\n      }\n    } catch (error) {\n      alert('Error while getting products');\n    }\n  };\n  useEffect(() => {\n    getCart();\n  }, [auth?.authenticated]);\n\n  return null;\n}\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,eAAe,QAAQ,yBAAyB;AAEzD,eAAe,SAASC,SAASA,CAAA,EAAG;EAAAC,EAAA;EAClC,MAAM;IAAEC;EAAK,CAAC,GAAGJ,WAAW,CAAEK,KAAK,IAAKA,KAAK,CAAC;EAC9C,MAAMC,QAAQ,GAAGP,WAAW,CAAC,CAAC;EAC9B,MAAMQ,OAAO,GAAG,MAAAA,CAAA,KAAY;IAC1B,IAAI;MACF,IAAIH,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEI,aAAa,EAAE;QAAA,IAAAC,UAAA,EAAAC,MAAA,EAAAC,gBAAA;QACvB,IAAIC,IAAI,GAAG,EAAE;QACb,MAAM;UAAEC;QAAK,CAAC,GAAG,MAAMjB,KAAK,CAACkB,GAAG,CAC9B,0CAA0CV,IAAI,aAAJA,IAAI,wBAAAK,UAAA,GAAJL,IAAI,CAAEW,IAAI,cAAAN,UAAA,uBAAVA,UAAA,CAAYO,GAAG,EAC3D,CAAC;QACD,IAAI,CAAAH,IAAI,aAAJA,IAAI,wBAAAH,MAAA,GAAJG,IAAI,CAAG,CAAC,CAAC,cAAAH,MAAA,wBAAAC,gBAAA,GAATD,MAAA,CAAWO,SAAS,cAAAN,gBAAA,uBAApBA,gBAAA,CAAsBO,MAAM,IAAG,CAAC,EAAE;UAAA,IAAAC,OAAA;UACpCP,IAAI,GAAGC,IAAI,aAAJA,IAAI,wBAAAM,OAAA,GAAJN,IAAI,CAAG,CAAC,CAAC,cAAAM,OAAA,uBAATA,OAAA,CAAWF,SAAS;QAC7B;QACAX,QAAQ,CAACL,eAAe,CAACW,IAAI,CAAC,CAAC;MACjC;IACF,CAAC,CAAC,OAAOQ,KAAK,EAAE;MACdC,KAAK,CAAC,8BAA8B,CAAC;IACvC;EACF,CAAC;EACDvB,SAAS,CAAC,MAAM;IACdS,OAAO,CAAC,CAAC;EACX,CAAC,EAAE,CAACH,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEI,aAAa,CAAC,CAAC;EAEzB,OAAO,IAAI;AACb;AAACL,EAAA,CAxBuBD,SAAS;EAAA,QACdF,WAAW,EACXD,WAAW;AAAA;AAAAuB,EAAA,GAFNpB,SAAS;AAAA,IAAAoB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}